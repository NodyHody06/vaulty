pkgname=vaulty
pkgver=0.1.1
pkgrel=1
pkgdesc="Local-first terminal vault for passwords and notes"
arch=("x86_64" "aarch64")
url="https://github.com/Nodyhody06/vaulty"
license=("custom")
depends=("glibc")
makedepends=("cargo")
source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/refs/tags/v${pkgver}.tar.gz")
sha256sums=("SKIP")

build() {
  cd "${pkgname}-${pkgver}"
  cargo build --release --locked --bin vaulty
}

package() {
  cd "${pkgname}-${pkgver}"
  install -Dm755 "target/release/vaulty" "${pkgdir}/usr/bin/vaulty"
  install -Dm644 "README.md" "${pkgdir}/usr/share/doc/${pkgname}/README.md"
  install -Dm644 "CHANGELOG.md" "${pkgdir}/usr/share/doc/${pkgname}/CHANGELOG.md"
}
